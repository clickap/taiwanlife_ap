!function(){function e(e,t,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent(t,i)}function t(e,t){if("undefined"==typeof e)return!1;var i="innerText"in e?"innerText":"textContent";try{e[i]=t}catch(a){e.setAttribute("innerText",t)}}videojs.Youtube=videojs.MediaTechController.extend({init:function(e,i,a){if(this.player_=e,this.featuresProgressEvents=!1,this.featuresTimeupdateEvents=!1,this.featuresPlaybackRate=!0,this.featuresNativeTextTracks=!0,videojs.MediaTechController.call(this,e,i,a),this.isIos=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),this.isAndroid=/(Android)/g.test(navigator.userAgent),this.playVideoIsAllowed=!(this.isIos||this.isAndroid),(this.isIos||this.isAndroid)&&(this.player_.options().autoplay=!1),"undefined"!=typeof i.source)for(var s in i.source)i.source.hasOwnProperty(s)&&(e.options()[s]=i.source[s]);this.player_.options().playbackRates=[],this.userQuality=videojs.Youtube.convertQualityName(e.options().quality),this.playerEl_=e.el(),this.playerEl_.className+=" vjs-youtube",this.qualityButton=document.createElement("div"),this.qualityButton.setAttribute("class","vjs-quality-button vjs-menu-button vjs-control"),this.qualityButton.setAttribute("tabindex",0);var o=document.createElement("div");o.setAttribute("class","vjs-control-content"),this.qualityButton.appendChild(o),this.qualityTitle=document.createElement("span"),this.qualityTitle.setAttribute("class","vjs-control-text"),o.appendChild(this.qualityTitle),"undefined"!==e.options().quality&&t(this.qualityTitle,e.options().quality||"auto");var r=document.createElement("div");if(r.setAttribute("class","vjs-menu"),o.appendChild(r),this.qualityMenuContent=document.createElement("ul"),this.qualityMenuContent.setAttribute("class","vjs-menu-content"),r.appendChild(this.qualityMenuContent),this.id_=this.player_.id()+"_youtube_api",this.el_=videojs.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0}),this.el_.setAttribute("allowFullScreen",""),this.playerEl_.insertBefore(this.el_,this.playerEl_.firstChild),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var l=Number(RegExp.$1);this.addIframeBlocker(l)}else/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent)||(this.el_.className+=" onDesktop",this.addIframeBlocker());this.parseSrc(e.options().src),this.playOnReady=this.player_.options().autoplay&&this.playVideoIsAllowed,this.forceHTML5=!("undefined"!=typeof this.player_.options().forceHTML5&&this.player_.options().forceHTML5!==!0),this.updateIframeSrc();var n=this;e.ready(function(){if(n.player_.options().controls){var t=n.playerEl_.querySelectorAll(".vjs-control-bar")[0];t&&t.appendChild(n.qualityButton)}n.playOnReady&&!n.player_.options().ytcontrols&&("undefined"!=typeof n.player_.loadingSpinner&&n.player_.loadingSpinner.show(),"undefined"!=typeof n.player_.bigPlayButton&&n.player_.bigPlayButton.hide()),e.trigger("loadstart")}),this.on("dispose",function(){this.ytplayer&&this.ytplayer.destroy(),this.player_.options().ytcontrols||this.player_.off("waiting",this.bindedWaiting),this.playerEl_.querySelectorAll(".vjs-poster")[0].style.backgroundImage="none",this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.qualityButton.parentNode&&this.qualityButton.parentNode.removeChild(this.qualityButton),"undefined"!=typeof this.player_.loadingSpinner&&this.player_.loadingSpinner.hide(),"undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.hide(),this.iframeblocker&&this.playerEl_.removeChild(this.iframeblocker)})}}),videojs.Youtube.prototype.loadThumbnailUrl=function(e,t){var i="https://img.youtube.com/vi/"+e+"/maxresdefault.jpg",a="https://img.youtube.com/vi/"+e+"/0.jpg";try{var s=new Image;s.onload=function(){if("naturalHeight"in this){if(this.naturalHeight<=90||this.naturalWidth<=120)return void this.onerror()}else if(this.height<=90||this.width<=120)return void this.onerror();t(i)},s.onerror=function(){t(a)},s.src=i}catch(o){t(a)}},videojs.Youtube.prototype.updateIframeSrc=function(){var e="undefined"==typeof this.player_.options().ytFullScreenControls||this.player_.options().ytFullScreenControls?1:0,t={enablejsapi:1,iv_load_policy:3,playerapiid:this.id(),disablekb:1,wmode:"transparent",controls:this.player_.options().ytcontrols?1:0,fs:e,html5:this.player_.options().forceHTML5?1:null,playsinline:this.player_.options().playsInline?1:0,showinfo:0,rel:0,autoplay:this.playOnReady?1:0,loop:this.player_.options().loop?1:0,list:this.playlistId,vq:this.userQuality,origin:window.location.protocol+"//"+window.location.host},i="file:"===window.location.protocol||"app:"===window.location.protocol;i&&delete t.origin;for(var a in t)!t.hasOwnProperty(a)||"undefined"!=typeof t[a]&&null!==t[a]||delete t[a];var s=this;if(this.videoId||this.playlistId){if(this.el_.src="https://www.youtube.com/embed/"+(this.videoId||"videoseries")+"?"+videojs.Youtube.makeQueryString(t),this.player_.options().ytcontrols?this.player_.controls(!1):!this.videoId||"undefined"!=typeof this.player_.poster()&&0!==this.player_.poster().length||setTimeout(function(){s.loadThumbnailUrl(s.videoId,function(e){s.player_.poster(e)})},100),this.bindedWaiting=function(){s.onWaiting()},this.player_.on("waiting",this.bindedWaiting),videojs.Youtube.apiReady)this.loadYoutube();else if(videojs.Youtube.loadingQueue.push(this),!videojs.Youtube.apiLoading){var o=document.createElement("script");o.onerror=function(e){s.onError(e)},o.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r),videojs.Youtube.apiLoading=!0}}else this.el_.src="about:blank",setTimeout(function(){s.triggerReady()},500)},videojs.Youtube.prototype.onWaiting=function(){"undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.hide()},videojs.Youtube.prototype.addIframeBlocker=function(t){this.iframeblocker=videojs.Component.prototype.createEl("div"),this.iframeblocker.className="iframeblocker",this.iframeblocker.style.position="absolute",this.iframeblocker.style.left=0,this.iframeblocker.style.right=0,this.iframeblocker.style.top=0,this.iframeblocker.style.bottom=0,t&&9>t?this.iframeblocker.style.opacity=.01:this.iframeblocker.style.background="rgba(255, 255, 255, 0.01)";var i=this;e(this.iframeblocker,"mousemove",function(e){i.player_.userActive()||i.player_.userActive(!0),e.stopPropagation(),e.preventDefault()}),e(this.iframeblocker,"click",function(){i.paused()?i.play():i.pause()}),this.playerEl_.insertBefore(this.iframeblocker,this.el_.nextSibling)},videojs.Youtube.prototype.parseSrc=function(e){if(this.srcVal=e,e){var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=e.match(t);this.videoId=i&&11===i[2].length?i[2]:null;var a=/[?&]list=([^#\&\?]+)/;i=e.match(a),null!==i&&i.length>1?this.playlistId=i[1]:this.playlistId&&delete this.playlistId;var s=/[?&]vq=([^#\&\?]+)/;i=e.match(s),null!==i&&i.length>1&&(this.userQuality=i[1],videojs.Youtube.appendQualityLabel(this.qualityTitle,this.userQuality))}},videojs.Youtube.prototype.src=function(e){if("undefined"!=typeof e){if(this.parseSrc(e),"about:blank"===this.el_.src)return void this.updateIframeSrc();if(delete this.defaultQuality,null!==this.videoId){this.player_.options().autoplay&&this.playVideoIsAllowed?this.ytplayer.loadVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}):this.ytplayer.cueVideoById({videoId:this.videoId,suggestedQuality:this.userQuality});var t=this;this.loadThumbnailUrl(this.videoId,function(e){t.playerEl_.querySelectorAll(".vjs-poster")[0].style.backgroundImage="url("+e+")",t.player_.poster(e)})}}return this.srcVal},videojs.Youtube.prototype.load=function(){},videojs.Youtube.prototype.play=function(){null!==this.videoId&&(this.player_.options().ytcontrols||this.player_.trigger("waiting"),this.isReady_?(this.ytplayer.setVolume(100*this.player_.volume()),this.volumeVal>0?this.ytplayer.unMute():this.ytplayer.mute(),this.playVideoIsAllowed&&this.ytplayer.playVideo()):this.playOnReady=!0)},videojs.Youtube.prototype.pause=function(){this.ytplayer&&this.ytplayer.pauseVideo()},videojs.Youtube.prototype.paused=function(){return this.ytplayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},videojs.Youtube.prototype.currentTime=function(){return this.ytplayer&&this.ytplayer.getCurrentTime?this.ytplayer.getCurrentTime():0},videojs.Youtube.prototype.setCurrentTime=function(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.ytplayer.seekTo(e,!0),this.player_.trigger("timeupdate"),this.player_.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(this.checkSeekedInPauseInterval=setInterval(videojs.bind(this,function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.player_.trigger("timeupdate"),this.player_.trigger("seeked"),this.isSeeking=!1,clearInterval(this.checkSeekedInPauseInterval)):clearInterval(this.checkSeekedInPauseInterval)}),250))},videojs.Youtube.prototype.playbackRate=function(){return this.ytplayer&&this.ytplayer.getPlaybackRate?this.ytplayer.getPlaybackRate():1},videojs.Youtube.prototype.setPlaybackRate=function(e){if(this.ytplayer&&this.ytplayer.setPlaybackRate){this.ytplayer.setPlaybackRate(e);var t=this;setTimeout(function(){t.player_.trigger("ratechange")},100)}},videojs.Youtube.prototype.duration=function(){return this.ytplayer&&this.ytplayer.getDuration?this.ytplayer.getDuration():0},videojs.Youtube.prototype.currentSrc=function(){return this.srcVal},videojs.Youtube.prototype.ended=function(){return this.ytplayer?this.lastState===YT.PlayerState.ENDED:!1},videojs.Youtube.prototype.volume=function(){return this.ytplayer&&isNaN(this.volumeVal)&&(this.volumeVal=this.ytplayer.getVolume()/100,this.volumeVal=isNaN(this.volumeVal)?1:this.volumeVal,this.player_.volume(this.volumeVal)),this.volumeVal},videojs.Youtube.prototype.setVolume=function(e){"undefined"!=typeof e&&e!==this.volumeVal&&(this.ytplayer.setVolume(100*e),this.volumeVal=e,this.player_.trigger("volumechange"))},videojs.Youtube.prototype.muted=function(){return this.mutedVal},videojs.Youtube.prototype.setMuted=function(e){e?(this.storedVolume=this.volumeVal,this.ytplayer.mute(),this.player_.volume(0)):(this.ytplayer.unMute(),this.player_.volume(this.storedVolume)),this.mutedVal=e,this.player_.trigger("volumechange")},videojs.Youtube.prototype.buffered=function(){if(this.ytplayer&&this.ytplayer.getVideoBytesLoaded){var e=this.ytplayer.getVideoBytesLoaded(),t=this.ytplayer.getVideoBytesTotal();if(!e||!t)return 0;var i=this.ytplayer.getDuration(),a=e/t*i,s=this.ytplayer.getVideoStartBytes()/t*i;return videojs.createTimeRange(s,s+a)}return videojs.createTimeRange(0,0)},videojs.Youtube.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(videojs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(videojs.USER_AGENT)?!1:!0},videojs.Youtube.isSupported=function(){return!0},videojs.Youtube.canPlaySource=function(e){return"video/youtube"===e.type},videojs.Youtube.canControlVolume=function(){return!0},videojs.Youtube.loadingQueue=[],videojs.Youtube.prototype.loadYoutube=function(){var e=this;this.ytplayer=new YT.Player(this.id_,{events:{onReady:function(t){t.target.vjsTech.onReady(),e.player_.trigger("ratechange")},onStateChange:function(e){e.target.vjsTech.onStateChange(e.data)},onPlaybackQualityChange:function(e){e.target.vjsTech.onPlaybackQualityChange(e.data)},onError:function(e){e.target.vjsTech.onError(e.data)}}}),this.ytplayer.vjsTech=this},videojs.Youtube.makeQueryString=function(e){var t=["modestbranding=1"];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return t.join("&")},window.onYouTubeIframeAPIReady=function(){for(var e;e=videojs.Youtube.loadingQueue.shift();)e.loadYoutube();videojs.Youtube.loadingQueue=[],videojs.Youtube.apiReady=!0},videojs.Youtube.prototype.onReady=function(){if(this.isReady_=!0,this.triggerReady(),this.player_.options().playbackRates=this.ytplayer.getAvailablePlaybackRates(),this.player_.controlBar.playbackRateMenuButton.update(),this.player_.trigger("loadedmetadata"),this.player_.trigger("durationchange"),this.player_.trigger("timeupdate"),"undefined"==typeof this.player_.loadingSpinner||this.isIos||this.isAndroid||this.player_.loadingSpinner.hide(),this.player_.options().muted&&this.setMuted(!0),!this.videoId&&this.playlistId){this.videoId=this.ytplayer.getPlaylist()[0];var e=this;this.loadThumbnailUrl(this.videoId,function(t){e.player_.poster(t)})}this.playOnReady&&(this.playOnReady=!1,this.play())},videojs.Youtube.prototype.updateCaptions=function(){this.ytplayer.loadModule("captions"),this.ytplayer.loadModule("cc");var e=this.ytplayer.getOptions(),t=e.indexOf("captions")>=0?"captions":e.indexOf("cc")>=0?"cc":null;if(null!==t&&!this.tracked_){var i=this.ytplayer.getOption(t,"tracklist");if(i&&i.length>0){for(var a,s=0;s<i.length;s++)a=this.addTextTrack("captions",i[s].displayName,i[s].languageCode);var o=this;this.textTracks().on("change",function(){for(var e=null,i=0;i<this.length;i++)if("showing"===this[i].mode){e=this[i].language;break}null!==e?o.ytplayer.setOption(t,"track",{languageCode:e}):o.ytplayer.setOption(t,"track",{})}),this.tracked_=!0}}},videojs.Youtube.prototype.updateQualities=function(){function t(t){e(t,"click",function(){var e=this.getAttribute("data-val");a.ytplayer.setPlaybackQuality(e),a.userQuality=e,videojs.Youtube.appendQualityLabel(a.qualityTitle,e);var t=a.qualityMenuContent.querySelector(".vjs-selected");t&&videojs.Youtube.removeClass(t,"vjs-selected"),videojs.Youtube.addClass(this,"vjs-selected")})}var i=this.ytplayer.getAvailableQualityLevels(),a=this;if(i.indexOf(this.userQuality)<0&&videojs.Youtube.appendQualityLabel(a.qualityTitle,this.defaultQuality),0===i.length)this.qualityButton.style.display="none";else{for(this.qualityButton.style.display="";this.qualityMenuContent.hasChildNodes();)this.qualityMenuContent.removeChild(this.qualityMenuContent.lastChild);for(var s=0;s<i.length;++s){var o=document.createElement("li");o.setAttribute("class","vjs-menu-item"),o.setAttribute("data-val",i[s]),videojs.Youtube.appendQualityLabel(o,i[s]),i[s]===this.quality&&videojs.Youtube.addClass(o,"vjs-selected"),t(o),this.qualityMenuContent.appendChild(o)}}},videojs.Youtube.prototype.onStateChange=function(e){if(e!==this.lastState){switch(e){case-1:this.player_.trigger("durationchange");break;case YT.PlayerState.ENDED:var t=!0;this.playlistId&&!this.player_.options().loop&&(t=0===this.ytplayer.getPlaylistIndex()),t&&(this.player_.options().ytcontrols||(this.playerEl_.querySelectorAll(".vjs-poster")[0].style.display="block","undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.show()),this.player_.trigger("pause"),this.player_.trigger("ended"));break;case YT.PlayerState.PLAYING:this.playerEl_.querySelectorAll(".vjs-poster")[0].style.display="none",this.playVideoIsAllowed=!0,this.updateQualities(),this.updateCaptions(),this.player_.trigger("timeupdate"),this.player_.trigger("durationchange"),this.player_.trigger("playing"),this.player_.trigger("play"),this.isSeeking&&(this.player_.trigger("seeked"),this.isSeeking=!1);break;case YT.PlayerState.PAUSED:this.player_.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.options().ytcontrols||this.player_.trigger("waiting");break;case YT.PlayerState.CUED:}this.lastState=e}},videojs.Youtube.convertQualityName=function(e){switch(e){case"144p":return"tiny";case"240p":return"small";case"360p":return"medium";case"480p":return"large";case"720p":return"hd720";case"1080p":return"hd1080";case"1440p":return"hd1440";case"2160p":return"hd2160"}return"auto"},videojs.Youtube.parseQualityName=function(e){switch(e){case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p";case"hd1440":return"1440p";case"hd2160":return"2160p"}return"auto"},videojs.Youtube.appendQualityLabel=function(e,i){t(e,videojs.Youtube.parseQualityName(i));var a=document.createElement("span");switch(a.setAttribute("class","vjs-hd-label"),i){case"hd720":case"hd1080":case"hd1440":t(a,"HD"),e.appendChild(a);break;case"hd2160":t(a,"4K"),e.appendChild(a)}},videojs.Youtube.prototype.onPlaybackQualityChange=function(e){if("undefined"!=typeof this.defaultQuality||(this.defaultQuality=e,"undefined"==typeof this.userQuality)){switch(this.quality=e,videojs.Youtube.appendQualityLabel(this.qualityTitle,e),e){case"medium":this.player_.videoWidth=480,this.player_.videoHeight=360;break;case"large":this.player_.videoWidth=640,this.player_.videoHeight=480;break;case"hd720":this.player_.videoWidth=960,this.player_.videoHeight=720;break;case"hd1080":this.player_.videoWidth=1440,this.player_.videoHeight=1080;break;case"highres":this.player_.videoWidth=1920,this.player_.videoHeight=1080;break;case"small":this.player_.videoWidth=320,this.player_.videoHeight=240;break;case"tiny":this.player_.videoWidth=144,this.player_.videoHeight=108;break;default:this.player_.videoWidth=0,this.player_.videoHeight=0}this.player_.trigger("ratechange")}},videojs.Youtube.prototype.onError=function(e){this.player_.error(e)},videojs.Youtube.addClass=function(e,t){-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},videojs.Youtube.removeClass=function(e,t){var i,a;if(-1!==e.className.indexOf(t)){for(i=e.className.split(" "),a=i.length-1;a>=0;a--)i[a]===t&&i.splice(a,1);e.className=i.join(" ")}};var i=document.createElement("style"),a=" .vjs-youtube .vjs-poster { background-size: 100%!important; }.vjs-youtube .vjs-poster, .vjs-youtube .vjs-loading-spinner, .vjs-youtube .vjs-big-play-button, .vjs-youtube .vjs-text-track-display{ pointer-events: none !important; }.vjs-youtube.vjs-user-active .iframeblocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-tech.onDesktop { pointer-events: none; }.vjs-quality-button > div:first-child > span:first-child { position:relative;top:7px }";i.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i),i.styleSheet?i.styleSheet.cssText=a:i.appendChild(document.createTextNode(a))}();