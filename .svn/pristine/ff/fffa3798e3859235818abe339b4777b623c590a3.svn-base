YUI.add("moodle-mod_videofile-videofile",function(e,t){(function(){var e=!1,t=!1,n=!1,r=!1,i=!1;videojs.SocialItem=videojs.MenuItem.extend({init:function(e,t){videojs.MenuItem.call(this,e,t),"embed"==t.kind&&(this.embedEl_=new videojs.EmbedWindow(this.player(),{}),this.player().el().appendChild(this.embedEl_.el()))}}),videojs.SocialItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:'<span class="icon-'+this.options_.iconClass+'"></span>'},t))},videojs.SocialItem.prototype.onClick=function(){var s=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},o={url:r||document.location.href,title:document.title,description:"Check out this cool video at "+document.location.href,pubid:e||null,email_template:n||null,ct:t||null},u,a,f=this.options().kind,l=function(e){var t={};return e.replace(/\b([^&=]*)=([^&=]*)\b/g,function(e,n,r){typeof t[n]!="undefined"?t[n]+=","+r:t[n]=r}),t},c=this.player().currentSrc();switch(f){case"embed":var h=this.player().options().plugins,p=JSON.stringify(h),d=['<link href="http://vjs.zencdn.net/4.1/video-js.css" rel="stylesheet">','<script src="http://vjs.zencdn.net/4.1/video.js"></script>','<video id="videojsplayer" class="video-js vjs-default-skin" controls preload="auto" width="640" height="360" poster="'+(this.player().poster()||"")+'" data-setup=\'{"plugins":'+p+"}'>",'	<source src="'+c+'" type="video/mp4" />',"	<p>Video Playback Not Supported</p>","</video>"].join("\n");this.embedEl_.setEmbedCode(d),this.embedEl_.show(),[].slice.call(this.embedEl_.el().getElementsByTagName("textarea"))[0].select();break;case"link":i&&window.open(i,"Website");break;case"more":u=u||550,a=a||450,window.open("http://api.addthis.com/oexchange/0.8/offer??"+s(o),"AddThis","height="+a+",width="+u+",modal=yes,alwaysRaised=yes");break;case"facebook":u=u||550,a=a||270;case"twitter":u=u||550,a=a||260,o.text=o.description.replace(/\shttp\:\/\/.*$/gi,"");case"email":u=u||550,a=a||700;default:u=u||550,a=a||450,window.open("http://api.addthis.com/oexchange/0.8/forward/"+f+"/offer?"+s(o),"AddThis","height="+a+",width="+u+",modal=yes,alwaysRaised=yes")}videojs.trigger(this.player().el(),{type:"socialclick",target:this.player().el(),kind:f})},videojs.SocialButton=videojs.MenuButton.extend({init:function(e,t){videojs.MenuButton.call(this,e,t),this.items.length>4&&(this.menu.contentEl().style.width="15em",this.menu.contentEl().style.left="-7.5em"),this.on("click",this.onClick)}}),videojs.SocialButton.prototype.options_={facebook:!0,twitter:!0,googleplus:!0,linkedin:!0,pinterest:!0,delicious:!1,reddit:!1,email:!0,embed:!1,more:!0},videojs.SocialButton.prototype.available={facebook:{label:"Facebook",kind:"facebook",iconClass:"facebook"},twitter:{label:"Twitter",kind:"twitter",iconClass:"twitter"},googleplus:{label:"Google+",kind:"google_plusone_share",iconClass:"google-plus"},linkedin:{label:"LinkedIn+",kind:"linkedin",iconClass:"linkedin"},pinterest:{label:"Pinterest+",kind:"pinterest",iconClass:"pinterest"},delicious:{label:"Delicious",kind:"delicious",iconClass:"delicious"},reddit:{label:"Reddit",kind:"reddit",iconClass:"reddit"},more:{label:"More Services",kind:"more",iconClass:"plus"},email:{label:"Email",kind:"email",iconClass:"envelope"},embed:{label:"Embed",kind:"embed",iconClass:"code"},website_url:{label:"Link",kind:"link",iconClass:"globe"}},videojs.SocialButton.prototype.buttonText="Social",vjs.SocialButton.prototype.buildCSSClass=function(){return"vjs-social-button vjs-control icon-share "+vjs.MenuButton.prototype.buildCSSClass.call(this)},videojs.SocialButton.prototype.onClick=function(){},videojs.SocialButton.prototype.createItems=function(){var e=[],t,n=this.options();for(var r in this.available)this.available.hasOwnProperty(r)&&n[r]&&e.push(new videojs.SocialItem(this.player_,this.available[r]));return e},videojs.EmbedWindow=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.hide(),this.exitEl_=new videojs.ExitButton(e,{}),this.exitEl_.on("click",videojs.bind(this,function(){this.hide()})),this.el_.appendChild(this.exitEl_.el()),this.textAreaEl_=document.createElement("textarea"),this.textAreaEl_.style.fontSize="10px",t.embedCode&&this.setEmbedCode(t.embedCode),this.el_.appendChild(this.textAreaEl_)},setEmbedCode:function(e){this.textAreaEl_.value=e||""}}),videojs.EmbedWindow.prototype.createEl=function(e,t){return videojs.Component.prototype.createEl(e,{className:"vjs-embed-window ",innerHTML:'<h4 class="vjs-embed-title"><span class="icon-code"></span>  Embed Code</h4>',"aria-live":"polite",tabIndex:0})},videojs.ExitButton=videojs.Button.extend({init:function(e,t){videojs.Component.call(this,e,t)}}),videojs.ExitButton.prototype.createEl=function(e,t){return videojs.Component.prototype.createEl(e,{className:"vjs-button icon-remove-sign",innerHTML:"",role:"button","aria-live":"polite",tabIndex:0,style:"font-size: 10px"})},videojs.ExitButton.prototype.onClick=function(){};var s=function(e){var t={className:"vjs-social-button vjs-control vjs-menu-button icon-share",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">Social</span></div>',role:"button","aria-live":"polite",tabIndex:0};return videojs.Component.prototype.createEl(null,t)},o;videojs.plugin("addThis",function(u){u=u||{};if(u.includeFontAwesome||u.includeFontAwesome===undefined){var a=document.createElement("link");a.href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css",a.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(a)}u.pubid&&(e=u.pubid),u.ct&&(t=u.ct),u.email_template&&(n=u.email_template),u.share_url&&(r=u.share_url),u.website_url&&u.website_url!=/http(s)?:\/\//.test(u.website_url)&&u.website_url!=""?i=u.website_url:delete u.website_url;var f=JSON.parse(JSON.stringify(u));f.el=s(u),o=this.controlBar.addChild("socialButton",u)})})(),M.mod_videofile=M.mod_videofile||{},M.mod_videofile
.videofile={init:function(e,t){videojs("videofile-"+e).addThis({reddit:!1,delecious:!1,website_url:"http://www.google.com"})},enableResize:function(e,t,n,r,i){function f(){var e=u.offsetWidth;s.width(e).height(e*a)}var s=videojs("videofile-"+e,{nativeControlsForTouch:!1,customControlsOnMobile:!0}),o=document.getElementById(s.id()),u=o.parentElement,a=r/n;i&&(o.style.maxWidth=n+"px",o.style.maxHeight=r+"px"),f(),window.onresize=f}}},"@VERSION@",{requires:["base","node","event"]});
